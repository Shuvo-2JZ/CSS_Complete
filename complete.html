@{
  var ActiveAccordion = ViewBag.ActiveAccordion;
  var ActiveMenu = ViewBag.ActiveMenu;
}
<html lang="en">

<head>
  <title>@ViewBag.Title</title>
  <meta charset="utf-8" />
  <meta http-equiv="cache-control" content="max-age=0" />
  <meta http-equiv="cache-control" content="no-cache" />
  <meta http-equiv="expires" content="0" />
  <meta http-equiv="pragma" content="no-cache" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="application-name" content="CAP Back Office">
  <link rel="icon" href='@Url.Content("~/favicon.svg")' type="image/x-icon">
  <script>
      if ('serviceWorker' in navigator) {
          window.addEventListener('load', function () {
              //  navigator.serviceWorker.register('@Url.Content("~/service-worker.js")');
          });
      }
  </script>
  <link rel="stylesheet"
      href='@Url.Content("https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap")'>
  <link rel="stylesheet" href='@Url.Content("~/css/style.css")'>
  <script src='@Url.Content("~/js/jquery.min.js")'></script>
  <script src='@Url.Content("~/js/moment.min.js")'></script>
  <script src='@Url.Content("~/js/datatables.min.js")'></script>
  <script src='@Url.Content("~/js/axios.min.js")'></script>
  <script src='@Url.Content("~/js/bootstrap.bundle.js")'></script>
  <script src='@Url.Content("~/js/toastr.min.js")'></script>
  <script src='@Url.Content("~/js/cleave.min.js")'></script>
  <script src='@Url.Content("~/js/jquery-serializeFields.min.js")'></script>
  <script src='@Url.Content("~/js/sweetalert2.min.js")'></script>
  <script src='@Url.Content("~/js/config.js")'></script>
  <script src='@Url.Content("~/js/validation.js")'></script>
  <script src='@Url.Content("~/js/CommonMethods.js")'></script>
</head>

<body>
  <partial name="~/Views/CommonPartial/CheckSetting.cshtml" />
  <partial name="~/Views/CommonPartial/OldBrowserCheck.cshtml" />
  <partial name="~/Views/CommonPartial/NetworkCheck.cshtml" />
  <div>

      <nav id="topNav" class="navbar py-3 fixed-top  top-navbar">
          <div class="container-fluid">
              <button id="MenuBar" class="btn btn-success"><i class="fa fa-bars"></i> </button>
              <div class="d-flex h-100">
                  <button class="btn nav-item-btn text-uppercase btn-sm mx-1">
                      <span id="navBarCompanyName"></span>
                      <b class="text-success mx-1 ">|</b> <span id="navBarBranchName"></span>
                      <b class="text-success mx-1 ">|</b> <span id="navTransDate"></span>
                  </button>
                  <button id="FullScreen" class="btn btn-sm btn-success align-middle  mx-1 "> <i
                          class="fas fa-expand"></i> 
                  </button>
                  <a href='@Url.Content("~/Settings")'
                      class="btn  btn-sm btn-success text-uppercase align-middle mx-1 "> <img alt="" class=""
                          src='@Url.Content("~/img/user.svg")' /> <span id="userName"></span> </a>
              </div>
          </div>
      </nav>

      <div id="sideNav" class="side-nav-open">

          <div class="side-nav-top text-center bg-light ">
              <img alt="" class="side-nav-logo" src='@Url.Content("~/img/sidebarLogo.svg")' />
          </div>

          <a href="/" class="side-bar-item @(ActiveMenu =="Home" ? "side-bar-item-active" : " ")">
              <span class="side-bar-item-icon"><i class="fi fi-rr-home"></i></span>
              <span class="side-bar-item-caption">Home</span>
          </a>

          <div class="accordion accordion-flush side-bar-div-dropdown" id="accordion">

              <div id="CustomerMenu" class="accordion-item d-none side-bar-dropdown-item">
                  <button class="accordion-button side-bar-div-dropdown-button collapsed" type="button"
                      data-bs-toggle="collapse" data-bs-target="#flush-collapse1"> <i
                          class="fi fi-rr-user side-icon-dropdown"></i><span> Customer </span> </button>
                  <div id="flush-collapse1"
                      class="accordion-collapse bg-light side-bar-inside-dropdown collapse  @(ActiveAccordion =="Customer" ? "show" : " ") "
                      aria-labelledby="flush-heading9" data-bs-parent="#accordion">

                      <a id="NewCustomerPage" href='@Url.Content("~/Customer/CreateCustomer")'
                          class="side-bar-item d-none  @(ActiveMenu =="CreateCustomer" ? "side-bar-item-active" : " ")">
                          <span class="side-bar-item-icon"><i class="fi fi-rr-circle"></i></span>
                          <span class="side-bar-item-caption" id="customerInput">New Customer</span>
                      </a>

                      <a id="CustomerListPage" href='@Url.Content("~/Customer/ListCustomer")'
                          class="side-bar-item  d-none @(ActiveMenu =="ListCustomer" ? "side-bar-item-active" : " ")">
                          <span class="side-bar-item-icon"><i class="fi fi-rr-circle"></i></span>
                          <span class="side-bar-item-caption" id="customerView">Customer List</span>
                      </a>

                      <a id="AuthorizeCustomerPage" href='@Url.Content("~/Customer/ListUnauthorizedCustomer")'
                          class="side-bar-item  d-none @(ActiveMenu =="ListUnauthorizedCustomer" ? "side-bar-item-active" : " ")">
                          <span class="side-bar-item-icon"><i class="fi fi-rr-circle"></i></span>
                          <span class="side-bar-item-caption" id="customerAuthorize">Authorize Customer</span>
                      </a>
                  </div>
              </div>

              <div id="ProductMenu" class="accordion-item d-none side-bar-dropdown-item">
                  <button class="accordion-button side-bar-div-dropdown-button collapsed" type="button"
                      data-bs-toggle="collapse" data-bs-target="#flush-collapse2"> <i
                          class="fi fi-rr-box side-icon-dropdown"></i><span> Product </span> </button>
                  <div id="flush-collapse2"
                      class="accordion-collapse bg-light side-bar-inside-dropdown collapse @(ActiveAccordion =="Product" ? "show" : " ")  "
                      aria-labelledby="flush-heading9" data-bs-parent="#accordion">

                      <a id="CreateProductPage" href='@Url.Content("~/Products/CreateProduct")'
                          class="side-bar-item d-none @(ActiveMenu =="CreateProduct" ? "side-bar-item-active" : " ") ">
                          <span class="side-bar-item-icon"><i class="fi fi-rr-circle"></i></span>
                          <span class="side-bar-item-caption" id="customerInput">Create Product</span>
                      </a>

                      <a id="ProductListPage" href='@Url.Content("~/Products/ListProducts")'
                          class="side-bar-item d-none @(ActiveMenu =="ListProducts" ? "side-bar-item-active" : " ")">
                          <span class="side-bar-item-icon"><i class="fi fi-rr-circle"></i></span>
                          <span class="side-bar-item-caption" id="customerView">Product List</span>
                      </a>

                      <a id="ProductAuthorizePage" href='@Url.Content("~/Products/ListProductsUnauthorized")'
                          class="side-bar-item d-none @(ActiveMenu =="ListProductsUnauthorized" ? "side-bar-item-active" : " ")">
                          <span class="side-bar-item-icon"><i class="fi fi-rr-circle"></i></span>
                          <span class="side-bar-item-caption" id="customerAuthorize">Product Authorize</span>
                      </a>
                  </div>
              </div>

              <div id="AccountGroupMenu" class="accordion-item d-none side-bar-dropdown-item">
                  <button class="accordion-button side-bar-div-dropdown-button collapsed" type="button"
                      data-bs-toggle="collapse" data-bs-target="#flush-collapse3"> <i
                          class="fi fi-rr-users-alt side-icon-dropdown"></i><span> Account Group </span> </button>
                  <div id="flush-collapse3"
                      class="accordion-collapse bg-light side-bar-inside-dropdown collapse @(ActiveAccordion =="AccountGroup" ? "show" : " ") "
                      aria-labelledby="flush-heading3" data-bs-parent="#accordion">
                      <a id="CreateAccountGroupPage" href='@Url.Content("~/AccountGroup/CreateAccountGroup")'
                          class="side-bar-item d-none @(ActiveMenu =="CreateAccountGroup" ? "side-bar-item-active" : " ") ">
                          <span class="side-bar-item-icon"><i class="fi fi-rr-circle"></i></span>
                          <span class="side-bar-item-caption">Create Account Group</span>
                      </a>
                      <a id="AccountGroupListPage" href='@Url.Content("~/AccountGroup/AccountGroupList")'
                          class="side-bar-item d-none  @(ActiveMenu =="AccountGroupList" ? "side-bar-item-active" : " ")  ">
                          <span class="side-bar-item-icon"><i class="fi fi-rr-circle"></i></span>
                          <span class="side-bar-item-caption">Account Group List</span>
                      </a>
                  </div>
              </div>

              <div id="DocumentMenu" class="accordion-item d-none side-bar-dropdown-item">
                  <button class="accordion-button side-bar-div-dropdown-button collapsed" type="button"
                      data-bs-toggle="collapse" data-bs-target="#flush-collapse4"> <i
                          class="fi fi-rr-document side-icon-dropdown"></i><span> Document</span> </button>
                  <div id="flush-collapse4"
                      class="accordion-collapse bg-light side-bar-inside-dropdown collapse @(ActiveAccordion =="Doc" ? "show" : " ") "
                      aria-labelledby="flush-heading3" data-bs-parent="#accordion">
                      <a id="PendingApprovalPage" href='@Url.Content("~/DocumentManagement/DocPendingApprovalList")'
                          class="side-bar-item d-none  @(ActiveMenu =="DocPendingApprovalList" ? "side-bar-item-active" : " ") ">
                          <span class="side-bar-item-icon"><i class="fi fi-rr-circle"></i></span>
                          <span class="side-bar-item-caption" id="pendingDocApproval">Pending Approval</span>
                      </a>
                      <a id="PendingUploadPage"
                          href='@Url.Content("~/DocumentManagement/DocumentPendingListForCollection")'
                          class="side-bar-item  d-none   @(ActiveMenu =="DocumentPendingListForCollection" ? "side-bar-item-active" : " ")">
                          <span class="side-bar-item-icon"><i class="fi fi-rr-circle"></i></span>
                          <span class="side-bar-item-caption" id="pendingDocCollection">Pending Upload</span>
                      </a>
                      <a id="DocVerification" href='@Url.Content("~/DocumentManagement/DocVarificationList")'
                          class="side-bar-item  d-none  @(ActiveMenu =="DocVarificationList" ? "side-bar-item-active" : " ")">
                          <span class="side-bar-item-icon"><i class="fi fi-rr-circle"></i></span>
                          <span class="side-bar-item-caption" id="pendingDocUpdate">Doc Verification</span>
                      </a>
                  </div>
              </div>



              <div id="MaintenanceMenu" class="accordion-item d-none side-bar-dropdown-item">
                  <button class="accordion-button side-bar-div-dropdown-button collapsed" type="button"
                      data-bs-toggle="collapse" data-bs-target="#flush-collapse5"> <i
                          class="fi fi-rr-refresh side-icon-dropdown"></i><span> Maintenance</span> </button>
                  <div id="flush-collapse5"
                      class="accordion-collapse bg-light side-bar-inside-dropdown collapse @(ActiveAccordion =="Maintenance" ? "show" : " ")  "
                      aria-labelledby="flush-heading3" data-bs-parent="#accordion">

                      <a id="CreateTradeAccPage" href='/Maintenance/CreateTradeAccounts'
                          class="side-bar-item d-none  @(ActiveMenu =="TradeAccounts" ? "side-bar-item-active" : " ")">
                          <span class="side-bar-item-icon"><i class="fi fi-rr-circle"></i></span>
                          <span class="side-bar-item-caption" id="settleOrTradeAcc">Create Trade Acc</span>
                      </a>

                      <a id="SettlementAccListPage" href='/Maintenance/ListSettlementAccount'
                          class="side-bar-item  d-none  @(ActiveMenu =="ListSettlementAccount" ? "side-bar-item-active" : " ")">
                          <span class="side-bar-item-icon"><i class="fi fi-rr-circle"></i></span>
                          <span class="side-bar-item-caption" id="">Settlement Acc List</span>
                      </a>

                      <a id="ExecutionAccListPage" href='/Maintenance/ListExecutionAccount'
                          class="side-bar-item  d-none  @(ActiveMenu =="ListExecutionAccount" ? "side-bar-item-active" : " ")">
                          <span class="side-bar-item-icon"><i class="fi fi-rr-circle"></i></span>
                          <span class="side-bar-item-caption" id="">Execution Acc List</span>
                      </a>

                      <a id="VirtualAccSetupPage" href='/VirtualAccount/VirtualAccountSetup'
                          class="side-bar-item d-none @(ActiveMenu =="VirtualAccountSetup" ? "side-bar-item-active" : " ")">
                          <span class="side-bar-item-icon"><i class="fi fi-rr-circle"></i></span>
                          <span class="side-bar-item-caption" id="virtualAcc">Virtual Acc Setup</span>
                      </a>

                      <a id="VirtualAccListPage" href='/VirtualAccount/ListVirtualAccount'
                          class="side-bar-item d-none @(ActiveMenu =="ListVirtualAccount" ? "side-bar-item-active" : " ")">
                          <span class="side-bar-item-icon"><i class="fi fi-rr-circle"></i></span>
                          <span class="side-bar-item-caption" id="listVirtualAcc">Virtual Acc List</span>
                      </a>

                  </div>
              </div>





              <div id="AccountMenu" class="accordion-item d-none side-bar-dropdown-item">
                  <button class="accordion-button side-bar-div-dropdown-button collapsed" type="button"
                      data-bs-toggle="collapse" data-bs-target="#flush-collapse6"> <i
                          class="fi fi-rr-portrait side-icon-dropdown"></i><span>Account</span> </button>
                  <div id="flush-collapse6"
                      class="accordion-collapse bg-light side-bar-inside-dropdown collapse  @(ActiveAccordion =="Account" ? "show" : " ") "
                      aria-labelledby="flush-heading3" data-bs-parent="#accordion">

                      <a id="CreateAccountPage" href='/Account/CreateAccount'
                          class="side-bar-item d-none @(ActiveMenu =="CreateAccount" ? "side-bar-item-active" : " ") ">
                          <span class="side-bar-item-icon"><i class="fi fi-rr-circle"></i></span>
                          <span class="side-bar-item-caption" id="customerAccountInput">Create Account</span>
                      </a>

                      <a id="AccountListPage" href='/Account/ListAccounts'
                          class="side-bar-item d-none  @(ActiveMenu =="ListAccounts" ? "side-bar-item-active" : " ")">
                          <span class="side-bar-item-icon"><i class="fi fi-rr-circle"></i></span>
                          <span class="side-bar-item-caption" id="customerAccountView">Account List</span>
                      </a>

                      <a id="AuthorizeAccountPage" href='/Account/ListAccountUnAuthorize'
                          class="side-bar-item d-none @(ActiveMenu =="ListAccountUnAuthorize" ? "side-bar-item-active" : " ")">
                          <span class="side-bar-item-icon"><i class="fi fi-rr-circle"></i></span>
                          <span class="side-bar-item-caption" id="customerAccountAuthorize">Authorize Account</span>
                      </a>

                  </div>
              </div>

              <div id="LegalEntityMenu" class="accordion-item d-none side-bar-dropdown-item">

                  <button class="accordion-button side-bar-div-dropdown-button collapsed" type="button"
                      data-bs-toggle="collapse" data-bs-target="#flush-collapse7"> <i
                          class="fi fi-rr-map-marker side-icon-dropdown"></i><span>Legal Entity</span> </button>
                  <div id="flush-collapse7"
                      class="accordion-collapse bg-light side-bar-inside-dropdown collapse @(ActiveAccordion =="Entity" ? "show" : " ")  "
                      aria-labelledby="flush-heading3" data-bs-parent="#accordion">

                      <a id="CreateBrokerPage" href='/Entity/CreateBroker'
                          class="side-bar-item d-none @(ActiveMenu =="CreateBroker" ? "side-bar-item-active" : " ")">
                          <span class="side-bar-item-icon"><i class="fi fi-rr-circle"></i></span>
                          <span class="side-bar-item-caption" id="panelBrokerInput">Create Broker</span>
                      </a>

                      <a id="BrokerListPage" href='/Entity/BrokerList'
                          class="side-bar-item d-none  @(ActiveMenu =="BrokerList" ? "side-bar-item-active" : " ")">
                          <span class="side-bar-item-icon"><i class="fi fi-rr-circle"></i></span>
                          <span class="side-bar-item-caption" id="panelBrokerList">Broker List</span>
                      </a>

                  </div>
              </div>

          </div>
      </div>


      <div id="content" class="main-content">
          <div class="container-fluid content-body">
              @RenderBody()
          </div>
      </div>
  </div>



  <script>





      // Top Nav On Scroll
      let topNav = document.querySelector('#topNav');
      window.onscroll = () => {
          if (window.scrollY) {
              topNav.classList.add('smoothEffect');
          } else {
              topNav.classList.remove('smoothEffect');
          }
      }
      // Side Menu Bar Click
      $('#MenuBar').on('click', function () {
          let sideNav = document.getElementById('sideNav')
          let content = document.getElementById('content')
          let topNav = document.getElementById('topNav')
          if (sideNav.classList.contains("side-nav-open")) {
              sideNav.classList.add("side-nav-close");
              sideNav.classList.remove("side-nav-open");
              content.classList.add("content-expand");
              content.classList.remove("main-content");
              topNav.classList.add("top-navbar-expand");
              topNav.classList.remove("top-navbar");
          } else {
              sideNav.classList.remove("side-nav-close");
              sideNav.classList.add("side-nav-open");
              content.classList.remove("content-expand");
              content.classList.add("main-content");
              topNav.classList.remove("top-navbar-expand");
              topNav.classList.add("top-navbar");
          }
      })

      // Full Screen Activity
      $('#FullScreen').on('click', function () {
          let el = document.documentElement
              , rfs = // for newer Webkit and Firefox
                  el.requestFullscreen
                  || el.webkitRequestFullScreen
                  || el.mozRequestFullScreen
                  || el.msRequestFullscreen
              ;
          if (typeof rfs != "undefined" && rfs) {
              rfs.call(el);
          } else if (typeof window.ActiveXObject != "undefined") {
              // for Internet Explorer
              let wscript = new ActiveXObject("WScript.Shell");
              if (wscript != null) {
                  wscript.SendKeys("{F11}");
              }
          }
      })
      // Navbar company And Branch Name:
      $("#navBarCompanyName").html(getCompanySetting()['CompanyName']);
      $("#navBarBranchName").html(getCompanySetting()['BranchName']);
      $("#navTransDate").html((getUserSettings()['userInfo']['transactionDate']).split(" ")[0]);
      $("#userName").html(getUserSettings()['userInfo']['userName']);



      let permittedPrentMenues = getUserSettings()['permittedPrentMenues'];
      let permittedMenues = getUserSettings()['permittedMenues'];
      permittedPrentMenues.forEach(function (item, index) {
          $("#" + item).removeClass("d-none");
      })
      permittedMenues.forEach(function (item, index) {
          $("#" + item).removeClass("d-none");
      })



  </script>
</body>

</html>
